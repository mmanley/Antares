SubDir ANTARES_TOP src add-ons kernel drivers network dp83815 ;

SetSubDirSupportedPlatformsBeOSCompatible ;

# set some additional flags
SubDirCcFlags -Wall ;

# For ether_driver.h
UsePrivateHeaders net ;

KernelAddon dp83815 :
	driver.c
	util.c
	;

Package antares-dp83815-cvs :
	dp83815 : 
	boot home config add-ons kernel drivers bin ;
PackageDriverSymLink antares-dp83815-cvs : net dp83815 ;

# Package antares-dp83815-cvs :
#	dp83815.settings :
#	boot home config settings kernel drivers sample ;



rule Installdp83815
{
	Depends $(<) : $(>) ;
}

actions ignore Installdp83815
{
	cp $(>) /boot/home/config/add-ons/kernel/drivers/bin/
}

#Installdp83815 install : dp83815 ;

# Installation

AntaresInstall install-networking : /boot/home/config/add-ons/kernel/drivers/bin : 
 	dp83815 
;

AntaresInstallRelSymLink install-networking : /boot/home/config/add-ons/kernel/drivers/dev/net : 
	<installed>dp83815 : 
	installed-symlink 
;

Package antares-networkingkit-cvs :
	dp83815 :
	boot home config add-ons kernel drivers bin ;
PackageDriverSymLink antares-networkingkit-cvs : net dp83815 ;

# Package antares-networkingkit-cvs :
#	dp83815.settings :
#	boot home config settings kernel drivers sample ;


